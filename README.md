# myVdom-myReact

가상돔과 리액트를 실제로 만들어보며 원리를 학습해본다.

## myReact.js

recoil의 key값을 이용한 전역상태관리를 리액트의 useState에 도입시켜보았다.

하나의 컴포넌트에서 사용되는 상태여도 key값을 지정해줘야하는 불편함이 있다?

조금 더 많은 테스트를 통해 전역으로 상태관리가 문제 없는지 확인이 필요함

현재 추가 버튼을 눌렀을 때 count 값이 1씩 늘어나며 렌더링 자체에는 문제가 없음!

하지만, 가상돔의 문제인지(?) setState를 호출 이후 다음 상태 변경시 **렌더링 \* 2** 문제가 발생!

디버깅 필요

## myVdom.js

innerHTML을 통한 문자열 변경이 아닌 객체를 이용해 가상돔을 출력 후 실제 돔으로 변경하는 작업을 거친다.

만드는 과정에서 황준일님 블로그와 여러 블로그를 참조하며 이해하려 노력하였음

현재 'h'라는 함수를 통해 가상돔을 출력하고 'renderNode'함수를 통해 실제 돔으로 변경하는 작업은 원할하게 이루어진다.

문제는 상태를 변경 후 렌더링이 2배씩 늘어나는 문제가 발생

### 원인

이전의 가상돔을 계속해서 저장해주어야하는 데 그 부분이 미흡한 것 같다.

최초 렌더링 때는 가상돔을 저장하지만, 이후 렌더링 시에는 바뀐 가상돔을 저장하지 않아서 렌더링이 2배씩 늘어나는듯?

로직 변경이 필요

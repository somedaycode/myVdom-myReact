# myVdom-myReact

가상돔과 리액트를 실제로 만들어보며 원리를 학습해본다.

## 해야할 일

- [x] 가상돔 만들기
- [x] myReact 만들기 (recoil 처럼 전역에서도 사용할 수 있으면 좋겠다)
- [x] 이벤트 등록 후 렌더링
- [x] 이벤트가 2개 이상 중복없이 등록될 수 있도록 해결\
- [ ] JSX를 통해 h 함수의 가독성을 해결
- [ ] 이벤트를 루트에서 다 처리하는 것이 아닌 JSX처럼 할 순 없나..?

---

## myReact.js

**recoil의 key값을 이용한 전역상태관리를 리액트의 useState에 도입시켜보았다.**

하나의 컴포넌트에서 사용되는 상태여도 key값을 지정해줘야하는 불편함이 있다?

조금 더 많은 테스트를 통해 전역으로 상태관리가 문제 없는지 확인이 필요함

현재 추가 버튼을 눌렀을 때 count 값이 1씩 늘어나며 렌더링 자체에는 문제가 없음!

~~하지만, 가상돔의 문제인지(?) setState를 호출 이후 다음 상태 변경시 **렌더링 \* 2** 문제가 발생!~~

이벤트 중복 문제 였다.

**해결 완료** [issue[#1]](https://github.com/somedaycode/myVdom-myReact/issues/1)

## myVdom.js

innerHTML을 통한 문자열 변경이 아닌 객체를 이용해 가상돔을 출력 후 실제 돔으로 변경하는 작업을 거친다.

만드는 과정에서 황준일님 블로그와 여러 블로그를 참조하며 이해하려 노력하였음

현재 'h'라는 함수를 통해 가상돔을 출력하고 'renderNode'함수를 통해 실제 돔으로 변경하는 작업은 원할하게 이루어진다.

~~문제는 상태를 변경 후 렌더링이 2배씩 늘어나는 문제가 발생~~

상태가 변경된 컴포넌트를 시작으로 렌더링을 하지 않고 루트부터 새로 가상돔을 만들고 비교 후 렌더링한다.

---
